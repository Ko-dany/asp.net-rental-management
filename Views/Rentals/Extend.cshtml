@model Midterm_EquipmentRental.Models.Rental

@{
    ViewData["Title"] = "Edit Rental";
    // Optional: prefill the picker with now + 1 day
    var defaultDue = DateTime.Now.AddDays(1).ToString("yyyy-MM-ddTHH:mm");
}

<div class="container mt-4">
    <h2 class="mb-2">Edit Rental</h2>
    <p class="text-muted">Modify rental details such as due date.</p>

    <div class="row g-4">
        <!-- Form -->
        <div class="col-lg-7">
            <form method="post" asp-controller="View" asp-action="ExtendRental">
                @* Your POST expects (int id, DateTime newDueDate) *@
                <input type="hidden" name="id" value="@Model.Id" />

                <div class="mb-3">
                    <label for="newDueDate" class="form-label">Extended Due Date</label>
                    <input id="newDueDate"
                           name="newDueDate"
                           type="datetime-local"
                           class="form-control"
                           value="@defaultDue"
                           min="@DateTime.Now.ToString("yyyy-MM-ddTHH:mm")" />
                    <div class="form-text">Set a new due date for this rental (must be in the future).</div>
                </div>

                <button type="submit" class="btn btn-primary me-2">Update Rental</button>
                <a asp-controller="View" asp-action="GetAllRentals" class="btn btn-secondary">Cancel</a>
            </form>
        </div>

        <!-- Instructions -->
        <div class="col-lg-5">
            <div class="card">
                <div class="card-header fw-semibold">Rental Management</div>
                <div class="card-body">
                    <p class="mb-2">Use this form to modify active rental details:</p>
                    <ul class="mb-3">
                        <li><strong>Extended Due Date:</strong> Select a new date/time if the customer needs more time.</li>
                    </ul>
                    <div class="alert alert-warning mb-0">
                        <strong>Note:</strong> Only active rentals should be modified. Completed rentals cannot be edited.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>